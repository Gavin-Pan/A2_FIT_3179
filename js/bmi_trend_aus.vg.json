{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "description": "Line chart showing BMI trend in Australia over years for both sexes, male, and female (tidy format).",
  "data": { "url": "data/clean_BMI_long.csv" },
  "title": "Rising Average BMI in Australia",
  "transform": [{ "filter": "datum.Country == 'Australia'" }],
  "params": [
    {
      "name": "sex_highlight",
      "select": { "type": "point", "fields": ["Sex"] },
      "bind": "legend"
    }
  ],
  "mark": { "type": "line", "point": true },
  "encoding": {
    "x": {
      "field": "Year",
      "type": "temporal",
      "title": "Year",
      "timeUnit": "year",
      "axis": {
        "format": "%Y",
        "labelAngle": 0,
        "labelFontSize": 11,
        "titleFontSize": 11,
        "titleFontWeight": "bold",
        "grid": false
      }
    },
    "y": {
      "field": "BMI",
      "type": "quantitative",
      "title": "Average BMI",
      "scale": { "zero": false },
      "axis": {
        "labelFontSize": 11,
        "titleFontSize": 11,
        "titleFontWeight": "bold",
        "grid": false
      }
    },
    "color": {
      "field": "Sex",
      "type": "nominal",
      "title": "Sex",
      "scale": {
        "domain": ["Both sexes", "Male", "Female"],
        "range": ["#636EFA", "#EF553B", "#00CC96"]
      },
      "legend": {
        "labelFontSize": 11,
        "titleFontSize": 11
      }
    },
    "strokeWidth": {
      "condition": { "param": "sex_highlight", "value": 3 },
      "value": 1.5
    },
    "opacity": {
      "condition": { "param": "sex_highlight", "value": 1 },
      "value": 0.2
    },
    "tooltip": [
      {
        "field": "Year",
        "type": "temporal",
        "timeUnit": "year",
        "title": "Year"
      },
      { "field": "Sex", "type": "nominal" },
      { "field": "BMI", "type": "quantitative", "format": ".2f" }
    ]
  },

  "width": 600,
  "height": 400
}
