<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>FIT3179 — Multiple Views (Wk9 + Wk10)</title>

    <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>

    <link rel="stylesheet" href="css/styles.css" />
  </head>
  <body>
    <div class="container">
      <h1 class="site-title">The Scarcity of Obesity</h1>

      <section class="card">
        <h2 class="center">Global Adult Obesity</h2>
        <div id="map" aria-label="Choropleth: global adult obesity rate"></div>
        <p class="eda">
          <strong>Obesity</strong> is a problem in the world including for
          Australians. This map shows the obesity rates -which has been
          population normalised - for adults with a BMI of 30 or higher in 2023.
          Unfortunately, not all countries are included in this analysis due to
          missing data, such as Antarctica.
          <strong>High obesity rates </strong>
          stand out clearly in North America (the United States and Mexico) and
          parts of the Middle East and North Africa (like Saudi Arabia and
          Egypt). Despite how Australia is not the worse, it suggestive that
          Australia should remain cautious to not over step itself.
        </p>
      </section>

      <section class="card mt-24">
        <h2 class="center">Rising Average BMI in Australia</h2>
        <div
          id="bmi-line"
          aria-label="Line chart: BMI trend by sex in Australia"
        ></div>
        <p class="eda">
          This really begs the question should Australia actually be scared of
          the issue of obesity? Despite Australia not being amongst the top
          worst countries for obesity, it's clear that that there is a steady
          upward trend across all groups highlighting the gradual increase in
          average BMI (Body Mass Index).
        </p>
      </section>

      <section class="card mt-24">
        <h2 class="center">Obesity Rate vs Sugar Consumption</h2>
        <div
          id="scatter"
          aria-label="Scatter: obesity vs sugar consumption"
        ></div>
        <p class="eda">
          Multiple factors affect obesity in differing ways. Cutting back on
          sugar can be a powerful way to tackle obesity! Although data across
          countries is limited, the trend is clear with nations having lower
          average sugar consumption (kg per capita) tend to have lower obesity
          rates.
        </p>
      </section>

      <section class="card mt-24">
        <h2 class="center">Top 10 Vegetables — Lowest in Sugar and Calories</h2>
        <div
          id="stacked"
          aria-label="Grouped bar chart showing top 10 lowest-sugar and calorie vegetables"
        ></div>
        <p class="eda">
          Each pair of bars compares sugar (blue) and calories (orange) for the
          10 lowest-sugar vegetables.
        </p>
      </section>

      <section class="card mt-24">
        <h2 class="center">
          Top 10 Fruits, Vegetables, Seafood by % Calories from Sugar
        </h2>
        <div
          id="treemap"
          aria-label="Line chart: BMI trend by sex in Australia"
        ></div>
        <p class="eda"></p>
      </section>

      <section class="card mt-24">
        <h2 class="center">Obesity Rates vs. Physical activity</h2>
        <div
          id="physical"
          aria-label="Line chart: BMI trend by sex in Australia"
        ></div>
        <p class="eda"></p>
      </section>

      <section class="card mt-24">
        <h2 class="center">Physical activity vs. Obesity Rates</h2>
        <div
          id="diseases"
          aria-label="Line chart: BMI trend by sex in Australia"
        ></div>
        <p class="eda"></p>
      </section>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/vega-wordcloud@4"></script>
    <script>
      vegaEmbed("#map", "js/obesity_choropleth.vg.json", {
        actions: { export: true, source: true, compiled: false, editor: true },
      }).catch(console.error);

      vegaEmbed("#scatter", "js/obesity_sugar_scatter.vg.json", {
        actions: { export: true, source: true, compiled: false, editor: true },
      }).catch(console.error);

      vegaEmbed("#bmi-line", "js/bmi_trend_aus.vg.json", {
        actions: { export: true, source: true, compiled: false, editor: true },
      }).catch(console.error);

      // vegaEmbed("#veg-grouped", "js/veg_grouped_bar.vg.json", {
      //   actions: { export: true, source: true, compiled: false, editor: true },
      // }).catch(console.error);

      vegaEmbed("#treemap", "js/treemap.vg.json", {
        actions: {
          export: true,
          source: false,
          editor: true,
        },
      })
        .then((result) => {
          console.log("Treemap loaded successfully");
        })
        .catch(console.error);

      vegaEmbed("#stacked", "js/stacked_bar.vg.json", {
        actions: { export: true, source: true, compiled: false, editor: true },
      }).catch(console.error);

      vegaEmbed("#physical", "js/physical_activity_quadrants.vg.json", {
        actions: { export: true, source: true, compiled: false, editor: true },
      }).catch(console.error);

      vegaEmbed("#diseases", "js/obesity_diseases_bars.vg.json", {
        actions: { export: true, source: true, compiled: false, editor: true },
      }).catch(console.error);
    </script>
  </body>
</html>
